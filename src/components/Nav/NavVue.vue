<template>
  <nav>
    <ul class="nav__ul">
      <li class="nav__header">
        <router-link to="/" class="nav__logo">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
            <path d="M14.5411 0.156924H12.5364C11.9178 0.156924 11.4163 0.648347 11.4163 1.25459V3.21923C11.4163 3.82547 11.9178 4.31692 12.5364 4.31692H14.5411C15.1597 4.31692 15.6612 3.82547 15.6612 3.21923V1.25459C15.6612 0.648347 15.1597 0.156924 14.5411 0.156924Z" fill="#AE1332"/>
            <path d="M3.36519 11.52H1.20624C0.540049 11.52 0 12.0115 0 12.6177V14.5823C0 15.1886 0.540049 15.68 1.20624 15.68H3.36519C4.03138 15.68 4.57143 15.1886 4.57143 14.5823V12.6177C4.57143 12.0115 4.03138 11.52 3.36519 11.52Z" fill="#AE1332"/>
            <path d="M3.1248 5.79091H1.12007C0.501486 5.79091 0 6.28233 0 6.88857V8.85321C0 9.45945 0.501599 9.95091 1.12018 9.95091H3.1248C3.74341 9.95091 4.2449 9.45945 4.2449 8.85321V6.88857C4.2449 6.28233 3.74341 5.79091 3.1248 5.79091Z" fill="#AE1332"/>
            <path d="M8.88295 11.4891H6.87822C6.25964 11.4891 5.75815 11.9805 5.75815 12.5868L5.75804 14.5514C5.75804 15.1576 6.25975 15.6491 6.87833 15.6491H8.88295C9.50157 15.6491 10.0031 15.1576 10.0031 14.5514V12.5868C10.0031 11.9805 9.50157 11.4891 8.88295 11.4891Z" fill="#AE1332"/>
            <path d="M3.1248 0.0431361H1.12007C0.501486 0.0431361 0 0.534559 0 1.1408V3.10544C0 3.71168 0.501599 4.20314 1.12018 4.20314H3.1248C3.74341 4.20314 4.2449 3.71168 4.2449 3.10544V1.1408C4.2449 0.534559 3.74341 0.0431361 3.1248 0.0431361Z" fill="#AE1332"/>
            <path d="M9.03794 5.84874H7.03321C6.41463 5.84874 5.91314 6.34016 5.91314 6.9464V8.91104C5.91314 9.51728 6.41474 10.0087 7.03332 10.0087H9.03794C9.65655 10.0087 10.158 9.51728 10.158 8.91104V6.9464C10.158 6.34016 9.65655 5.84874 9.03794 5.84874Z" fill="#AE1332"/>
            <path d="M14.6667 11.4891H12.6619C12.0434 11.4891 11.5419 11.9805 11.5419 12.5868V14.5514C11.5419 15.1576 12.0435 15.6491 12.662 15.6491H14.6667C15.2853 15.6491 15.7868 15.1576 15.7868 14.5514V12.5868C15.7868 11.9805 15.2853 11.4891 14.6667 11.4891Z" fill="#AE1332"/>
            <path d="M8.7953 0.111854H6.79056C6.17198 0.111854 5.6705 0.603277 5.6705 1.20952V3.17416C5.6705 3.7804 6.1721 4.27185 6.79068 4.27185H8.7953C9.41391 4.27185 9.91539 3.78003 9.91539 3.17379V1.20952C9.91539 0.603277 9.41391 0.111854 8.7953 0.111854Z" fill="#AE1332"/>
            <path d="M14.5219 5.96291H12.5171C11.8985 5.96291 11.3971 6.45433 11.3971 7.06057V9.02521C11.3971 9.63145 11.8987 10.1229 12.5172 10.1229H14.5219C15.1405 10.1229 15.642 9.63145 15.642 9.02521V7.06057C15.642 6.45433 15.1405 5.96291 14.5219 5.96291Z" fill="#AE1332"/>
          </svg>
          <p>fresh harvest box</p>
        </router-link>
        <button class="nav__button" @click="toggleMenuOpen()">
          <svg v-if="!isMenuOpen" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M2 5.995C2 5.445 2.446 5 2.995 5H11.005C11.2689 5 11.522 5.10483 11.7086 5.29143C11.8952 5.47803 12 5.73111 12 5.995C12 6.25889 11.8952 6.51197 11.7086 6.69857C11.522 6.88517 11.2689 6.99 11.005 6.99H2.995C2.73111 6.99 2.47803 6.88517 2.29143 6.69857C2.10483 6.51197 2 6.25889 2 5.995ZM2 12C2 11.45 2.446 11.005 2.995 11.005H21.005C21.2689 11.005 21.522 11.1098 21.7086 11.2964C21.8952 11.483 22 11.7361 22 12C22 12.2639 21.8952 12.517 21.7086 12.7036C21.522 12.8902 21.2689 12.995 21.005 12.995H2.995C2.73111 12.995 2.47803 12.8902 2.29143 12.7036C2.10483 12.517 2 12.2639 2 12ZM2.995 17.01C2.73111 17.01 2.47803 17.1148 2.29143 17.3014C2.10483 17.488 2 17.7411 2 18.005C2 18.2689 2.10483 18.522 2.29143 18.7086C2.47803 18.8952 2.73111 19 2.995 19H15.005C15.2689 19 15.522 18.8952 15.7086 18.7086C15.8952 18.522 16 18.2689 16 18.005C16 17.7411 15.8952 17.488 15.7086 17.3014C15.522 17.1148 15.2689 17.01 15.005 17.01H2.995Z" fill="#AE1332"/>
          </svg>
          <svg v-else xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M18 6L6 18" stroke="#AE1332" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6 6L18 18" stroke="#AE1332" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </li>
      <li class="nav__list" v-if="isMenuOpen">
        <router-link to="/about">How It Works</router-link>
        <router-link to="/about">Fruits</router-link>
        <router-link to="/about">Contacts</router-link>
        <router-link v-if="mobileScreen" to="/about">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none">
            <path d="M22.1667 8.16659H18.6667V6.99992C18.6667 5.76224 18.1751 4.57526 17.2999 3.70009C16.4247 2.82492 15.2378 2.33325 14.0001 2.33325C12.7624 2.33325 11.5754 2.82492 10.7002 3.70009C9.82508 4.57526 9.33341 5.76224 9.33341 6.99992V8.16659H5.83341C5.52399 8.16659 5.22725 8.2895 5.00846 8.50829C4.78966 8.72709 4.66675 9.02383 4.66675 9.33325V22.1666C4.66675 23.0948 5.0355 23.9851 5.69187 24.6415C6.34825 25.2978 7.23849 25.6666 8.16675 25.6666H19.8334C20.7617 25.6666 21.6519 25.2978 22.3083 24.6415C22.9647 23.9851 23.3334 23.0948 23.3334 22.1666V9.33325C23.3334 9.02383 23.2105 8.72709 22.9917 8.50829C22.7729 8.2895 22.4762 8.16659 22.1667 8.16659ZM11.6667 6.99992C11.6667 6.38108 11.9126 5.78759 12.3502 5.35C12.7877 4.91242 13.3812 4.66659 14.0001 4.66659C14.6189 4.66659 15.2124 4.91242 15.65 5.35C16.0876 5.78759 16.3334 6.38108 16.3334 6.99992V8.16659H11.6667V6.99992ZM21.0001 22.1666C21.0001 22.476 20.8772 22.7728 20.6584 22.9915C20.4396 23.2103 20.1428 23.3333 19.8334 23.3333H8.16675C7.85733 23.3333 7.56058 23.2103 7.34179 22.9915C7.123 22.7728 7.00008 22.476 7.00008 22.1666V10.4999H9.33341V11.6666C9.33341 11.976 9.45633 12.2728 9.67512 12.4915C9.89391 12.7103 10.1907 12.8333 10.5001 12.8333C10.8095 12.8333 11.1062 12.7103 11.325 12.4915C11.5438 12.2728 11.6667 11.976 11.6667 11.6666V10.4999H16.3334V11.6666C16.3334 11.976 16.4563 12.2728 16.6751 12.4915C16.8939 12.7103 17.1907 12.8333 17.5001 12.8333C17.8095 12.8333 18.1062 12.7103 18.325 12.4915C18.5438 12.2728 18.6667 11.976 18.6667 11.6666V10.4999H21.0001V22.1666Z" :fill="mobileScreen ? 'white' : '#AE1332'"/>
          </svg>
        </router-link>
      </li>
      <li class="nav__item_nomobile" v-if="!mobileScreen">
        <router-link to="/about">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none">
            <path d="M22.1667 8.16659H18.6667V6.99992C18.6667 5.76224 18.1751 4.57526 17.2999 3.70009C16.4247 2.82492 15.2378 2.33325 14.0001 2.33325C12.7624 2.33325 11.5754 2.82492 10.7002 3.70009C9.82508 4.57526 9.33341 5.76224 9.33341 6.99992V8.16659H5.83341C5.52399 8.16659 5.22725 8.2895 5.00846 8.50829C4.78966 8.72709 4.66675 9.02383 4.66675 9.33325V22.1666C4.66675 23.0948 5.0355 23.9851 5.69187 24.6415C6.34825 25.2978 7.23849 25.6666 8.16675 25.6666H19.8334C20.7617 25.6666 21.6519 25.2978 22.3083 24.6415C22.9647 23.9851 23.3334 23.0948 23.3334 22.1666V9.33325C23.3334 9.02383 23.2105 8.72709 22.9917 8.50829C22.7729 8.2895 22.4762 8.16659 22.1667 8.16659ZM11.6667 6.99992C11.6667 6.38108 11.9126 5.78759 12.3502 5.35C12.7877 4.91242 13.3812 4.66659 14.0001 4.66659C14.6189 4.66659 15.2124 4.91242 15.65 5.35C16.0876 5.78759 16.3334 6.38108 16.3334 6.99992V8.16659H11.6667V6.99992ZM21.0001 22.1666C21.0001 22.476 20.8772 22.7728 20.6584 22.9915C20.4396 23.2103 20.1428 23.3333 19.8334 23.3333H8.16675C7.85733 23.3333 7.56058 23.2103 7.34179 22.9915C7.123 22.7728 7.00008 22.476 7.00008 22.1666V10.4999H9.33341V11.6666C9.33341 11.976 9.45633 12.2728 9.67512 12.4915C9.89391 12.7103 10.1907 12.8333 10.5001 12.8333C10.8095 12.8333 11.1062 12.7103 11.325 12.4915C11.5438 12.2728 11.6667 11.976 11.6667 11.6666V10.4999H16.3334V11.6666C16.3334 11.976 16.4563 12.2728 16.6751 12.4915C16.8939 12.7103 17.1907 12.8333 17.5001 12.8333C17.8095 12.8333 18.1062 12.7103 18.325 12.4915C18.5438 12.2728 18.6667 11.976 18.6667 11.6666V10.4999H21.0001V22.1666Z" :fill="mobileScreen ? 'white' : '#AE1332'"/>
          </svg>
        </router-link>
      </li>
    </ul>
  </nav>
</template>

<script lang="ts">
import { defineComponent } from 'vue';

export default defineComponent({
  data() {
    return {
      isMenuOpen: false,
      mobileScreen: false,
    };
  },
  methods: {
    toggleMenuOpen() {
      this.isMenuOpen = !this.isMenuOpen;
    },
    checkScreenSize() {
      if (window.innerWidth > 700) {
        this.isMenuOpen = true;
        this.mobileScreen = false;
      } else {
        this.isMenuOpen = false;
        this.mobileScreen = true;
      }
    },
  },
  mounted() {
    this.checkScreenSize();
    window.addEventListener('resize', this.checkScreenSize);
  },
  beforeUnmount() {
    window.removeEventListener('resize', this.checkScreenSize);
  },
});
</script>

<style>

nav {
  z-index: 99999;
  position: relative;
  margin: -8px;
  padding: 16px;
  font-size: 14px;
  background: var(--lightColor);
}

.nav__ul {
  display: flex;
  flex-direction: column;
  align-items: start;
}

.nav__header {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.nav__logo {
  display: flex;
  gap: 20px;
  text-transform: uppercase;
  text-decoration: none;
  font-weight: bold;
  color: var(--baseColor);
}

.nav__button:active {
  transform: rotate(0.5turn);
}

.nav__list {
  position: absolute;
  top: 100%;
  display: flex;
  flex-direction: column;
  align-self: center;
  padding: 124px 0px;
  gap: 16px;
  width: 100%;
  background: var(--baseColor);
}

.nav__list a {
  text-decoration: none;
  color: var(--lightColor);
}

@media (min-width: 700px) {
  .nav__ul {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
  .nav__button {
    display: none;
  }
  .nav__list {
    position: static;
    order: 1;
    gap: 20px;
    padding: 0px 0px;
    flex-direction: row;
    align-items: center;
    background: inherit;
  }
  .nav__header {
    order: 2;
    margin-right: 185px;
  }
  .nav__item_nomobile {
    order: 3;
  }
  .nav__list a {
    color: var(--baseColor);
  }
}

</style>
